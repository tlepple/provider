#!/bin/bash
 
#########################################################
# BEGIN
#########################################################

###########################################################################################################
# import parameters and utility functions 
###########################################################################################################
. ${STARTING_DIR}/bin/provider/aws/demo.properties
. ${STARTING_DIR}/bin/provider/aws/utils.sh
. ${STARTING_DIR}/bin/provider/aws/.info


GET_PUBLIC_IP=`aws --output json --region ${AWS_REGION:?} ec2 describe-instances --instance-id ${oneNodeInstanceId:?} | jq -r ".Reservations[].Instances[].PublicIpAddress"`

echo
echo
echo
#echo "		---------------------------------------------------------------------------------------------------------------------------------------------"
#echo "		---------------------------------------------------------------------------------------------------------------------------------------------"
#echo "		|		   	SSH Connection String:				 		                                                             "
#echo "		---------------------------------------------------------------------------------------------------------------------------------------------"
#echo "		---------------------------------------------------------------------------------------------------------------------------------------------"
#echo "		|	ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -i ${KEY_FILE_PATH}${KEY_FILENAME}.pem ${SSH_USERNAME}@${GET_PUBLIC_IP} 	 "
#echo "		---------------------------------------------------------------------------------------------------------------------------------------------"
#echo "		---------------------------------------------------------------------------------------------------------------------------------------------"
#echo
#echo
#echo "		---------------------------------------------------------------------------------------------------------------------------------------------"
#echo "		---------------------------------------------------------------------------------------------------------------------------------------------"
#echo "		| 			Proxy Connection String:    		                                           "
#echo "		---------------------------------------------------------------------------------------------------------------------------------------------"
#echo "		---------------------------------------------------------------------------------------------------------------------------------------------"
#echo "		|       ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -i ${KEY_FILE_PATH}${KEY_FILENAME}.pem -CND 8157 ${SSH_USERNAME}@${GET_PUBLIC_IP}          " 
#echo "		---------------------------------------------------------------------------------------------------------------------------------------------"
#echo "		---------------------------------------------------------------------------------------------------------------------------------------------"
#echo
echo
echo
echo
#echo "          ---------------------------------------------------------------------------------------------------------------------------------------------"
#echo "          ---------------------------------------------------------------------------------------------------------------------------------------------"
#echo "          ---------------------------------------------------------------------------------------------------------------------------------------------"
#echo "          ---------------------------------------------------------------------------------------------------------------------------------------------"

echo
echo
echo
echo "          ---------------------------------------------------------------------------------------------------------------------------------------------"
echo "          ---------------------------------------------------------------------------------------------------------------------------------------------"
echo "          |                  	Bind Mount -- SSH Connection String:                                                                                                            "
echo "          ---------------------------------------------------------------------------------------------------------------------------------------------"
echo "          ---------------------------------------------------------------------------------------------------------------------------------------------"
echo "          |       ssh -o StrictHostKeyChecking=no -o IdentitiesOnly=yes -o UserKnownHostsFile=/dev/null -i ~${BIND_MNT_TARGET}${BIND_FILENAME} ${SSH_USERNAME}@${GET_PUBLIC_IP}          "
echo "          ---------------------------------------------------------------------------------------------------------------------------------------------"
echo "          ---------------------------------------------------------------------------------------------------------------------------------------------"
echo
echo
#echo "          ---------------------------------------------------------------------------------------------------------------------------------------------"
#echo "          ---------------------------------------------------------------------------------------------------------------------------------------------"
#echo "          |               	Bind Mount -- Proxy Connection String:                                                           "
#echo "          ---------------------------------------------------------------------------------------------------------------------------------------------"
#echo "          ---------------------------------------------------------------------------------------------------------------------------------------------"
#echo "          |       ssh -o StrictHostKeyChecking=no -o IdentitiesOnly=yes -o UserKnownHostsFile=/dev/null -i ${BIND_MNT_TARGET}/${BIND_FILENAME} -CND 8157 ${SSH_USERNAME}@${GET_PUBLIC_IP}          "
#echo "          ---------------------------------------------------------------------------------------------------------------------------------------------"
#echo "          ---------------------------------------------------------------------------------------------------------------------------------------------"

